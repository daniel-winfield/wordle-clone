import { Component, OnInit, HostListener } from '@angular/core';

@Component({
  selector: 'app-game',
  templateUrl: './game.component.html',
  styleUrls: ['./game.component.css'],
})
export class GameComponent implements OnInit {
  @HostListener('document:keypress', ['$event'])
  handleKeyboardEvent(event: KeyboardEvent) {
    debugger;
    // let matchingChar;

    this.chars.forEach((row) =>
      row.forEach((char) => {
        if (event.key.toLowerCase() === char) {
          this.addChar(char);
        }
      })
    );

    if (event.key === 'Enter') {
      this.addToResultsMatrix(this.textEntry);
    }
    // this.key = event.key;
  }

  @HostListener('document:keydown.backspace', ['$event'])
  handleBackspaceEvent(event: any) {
    this.removeChar();
  }

  ngOnInit(): void {}

  chars = [
    ['q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p'],
    ['a', 's', 'd', 'f', 'g', 'h', 'j', 'k', 'l'],
    ['z', 'x', 'c', 'v', 'b', 'n', 'm'],
  ];

  canShare = true;

  words = [
    'accoutrement',
    'achromatise',
    'achromatised',
    'achromatises',
    'achromatising',
    'adonises',
    'aeolipile',
    'aeolotropic',
    'aeonian',
    'aeonism',
    'aeq',
    'aerogenic',
    'aerose',
    'aerugo',
    'aesthesia',
    'aesthetician',
    'aestheticians',
    'aestival',
    'aestivate',
    'aestivated',
    'aestivates',
    'aestivating',
    'aestivation',
    'aestivations',
    'aetiologically',
    'aetiologist',
    'aggrandiser',
    'albuminise',
    'alchemise',
    'alchemised',
    'alchemises',
    'alchemising',
    'alcoholise',
    'alcoholised',
    'alcoholises',
    'alcoholising',
    'alkalinise',
    'alkalinised',
    'alkalinises',
    'alkalinising',
    'alkalisation',
    'allegorise',
    'allegorised',
    'allegorises',
    'allegorising',
    'aluminise',
    'aluminised',
    'aluminises',
    'aluminising',
    'amenorrhoea',
    'amenorrhoeas',
    'amenorrhoeic',
    'amoebocyte',
    'amortisement',
    'amourist',
    'amourists',
    'anaesthetically',
    'anagrammatise',
    'anagrammatised',
    'anagrammatises',
    'anagrammatising',
    'anglicisation',
    'animalise',
    'animalised',
    'animalises',
    'animalising',
    'anoxaemia',
    'anserinae',
    'anthropomorphised',
    'anthropomorphises',
    'anthropomorphising',
    'antisepticise',
    'aphaereses',
    'aphaeresis',
    'aphorise',
    'aphorised',
    'aphorises',
    'aphorising',
    'apnoea',
    'apnoeas',
    'apostrophise',
    'apostrophised',
    'apostrophises',
    'apostrophising',
    'apotheosise',
    'apotheosised',
    'apotheosises',
    'apotheosising',
    'arborisation',
    'archaise',
    'archaised',
    'archaises',
    'archaising',
    'areography',
    'areolae',
    'areologies',
    'areology',
    'areometer',
    'aromatise',
    'aromatised',
    'aromatises',
    'aromatising',
    'arterialise',
    'arterialised',
    'arterialises',
    'arterialising',
    'arytaenoid',
    'arytaenoids',
    'asafoetida',
    'asafoetidas',
    'atomisation',
    'atomisations',
    'attempre',
    'attitudiniser',
    'autocatalyses',
    'autoionisation',
    'autolyses',
    'automatisation',
    'autotomise',
    'autotomised',
    'autotomises',
    'autotomising',
    'axiomatising',
    'azotaemia',
    'azotise',
    'bael',
    'baels',
    'barbarisation',
    'barbarisations',
    'bartisan',
    'barycentre',
    'bastinadoed',
    'bastinadoes',
    'battologise',
    'behaviouristic',
    'bestialise',
    'bestialised',
    'bestialises',
    'bestialising',
    'bicolour',
    'bise',
    'bistre',
    'bistres',
    'bituminise',
    'bituminised',
    'bituminises',
    'bituminising',
    'botanise',
    'botanised',
    'botanises',
    'botanising',
    'bour',
    'bourage',
    'bourg',
    'cacoaethes',
    'cacodaemon',
    'cacodaemons',
    'cadastre',
    'cadastres',
    'caecally',
    'caecity',
    'caesar',
    'caesiums',
    'caespitose',
    'caestus',
    'caesural',
    'camise',
    'cancellable',
    'cancellate',
    'caponise',
    'caponised',
    'caponises',
    'caponising',
    'caracolled',
    'caracolling',
    'caramelisation',
    'carbolise',
    'carbonadoes',
    'carbonisation',
    'carbonisations',
    'carburisation',
    'carburise',
    'carburised',
    'carburises',
    'carburising',
    'cartelisation',
    'cartelise',
    'catalyser',
    'catechiser',
    'catholicise',
    'catholicised',
    'catholicises',
    'catholicising',
    'centrings',
    'cephalisation',
    'chaetopod',
    'characteriser',
    'chelicerae',
    'cherely',
    'cicatrise',
    'cicatrised',
    'cicatrises',
    'cicatrising',
    'cinchonise',
    'cinematise',
    'circularisation',
    'circularisations',
    'circulariser',
    'civiliser',
    'claroes',
    'classicise',
    'classicised',
    'classicises',
    'classicising',
    'cocainise',
    'cocainised',
    'cocainises',
    'cocainising',
    'coeliac',
    'coeliotomy',
    'coelom',
    'coelomata',
    'coeloms',
    'coenacle',
    'coenesthesia',
    'coenobitical',
    'cognise',
    'cognised',
    'cognises',
    'cognising',
    'colonisations',
    'colourable',
    'colourado',
    'colourcast',
    'colourcasting',
    'colourcasts',
    'colourer',
    'colourific',
    'colourings',
    'communalise',
    'communalised',
    'communalises',
    'communalising',
    'communisation',
    'communisations',
    'communise',
    'communised',
    'communises',
    'communising',
    'comprisable',
    'concentre',
    'concentred',
    'concentres',
    'concentring',
    'concretise',
    'concretised',
    'concretises',
    'concretising',
    'contemporise',
    'contemporised',
    'contemporises',
    'contemporising',
    'conventionalisation',
    'conventionalisations',
    'copolymerise',
    'copolymerised',
    'copolymerises',
    'copolymerising',
    'cosmopolitanise',
    'costae',
    'councillorship',
    'councillorships',
    'counsellorship',
    'counsellorships',
    'couranto',
    'cree',
    'crees',
    'crenelled',
    'crenelling',
    'creolised',
    'criminalisation',
    'criticisable',
    'cupellation',
    'cupulae',
    'curarise',
    'customisations',
    'cutinise',
    'cymae',
    'daedal',
    'daeva',
    'decalitre',
    'decalitres',
    'decametre',
    'decametres',
    'decarbonise',
    'decarbonised',
    'decarbonises',
    'decarbonising',
    'decarburise',
    'decarburised',
    'decarburises',
    'decarburising',
    'decimalise',
    'decimalised',
    'decimalises',
    'decimalising',
    'decolourant',
    'decolourise',
    'decolourised',
    'decolourises',
    'decolourising',
    'dehypnotise',
    'deionise',
    'deionised',
    'dekalitre',
    'dekalitres',
    'dekametre',
    'dekametres',
    'delocalise',
    'demagnetiser',
    'demasculinise',
    'dematerialise',
    'dematerialised',
    'dematerialises',
    'dematerialising',
    'demineralisation',
    'demineralisations',
    'demineralise',
    'demineraliser',
    'demonisation',
    'demoraliser',
    'demythologisation',
    'demythologisations',
    'demythologise',
    'demythologised',
    'demythologises',
    'demythologising',
    'denaturalise',
    'denaturalised',
    'denaturalises',
    'denaturalising',
    'deoxidise',
    'deoxidised',
    'deoxidises',
    'deoxidising',
    'depersonalisation',
    'depolarisations',
    'depoliticisation',
    'depolymerise',
    'desensitiser',
    'desexualise',
    'desexualised',
    'desexualises',
    'desexualising',
    'desulphurise',
    'detribalise',
    'detribalised',
    'detribalises',
    'detribalising',
    'diabolise',
    'diabolised',
    'diabolises',
    'diabolising',
    'diagonalise',
    'diagonalised',
    'diagonalises',
    'diagonalising',
    'dialler',
    'dialogise',
    'dialyse',
    'dialysed',
    'dialyser',
    'dialysing',
    'diarrhoeal',
    'diarrhoeic',
    'dichotomise',
    'dichotomised',
    'dichotomises',
    'dichotomising',
    'dieselise',
    'digitalise',
    'digitalised',
    'digitalises',
    'digitalising',
    'digitisations',
    'digitiser',
    'digitisers',
    'dioptre',
    'dioptres',
    'diphthongise',
    'diphthongised',
    'diphthongises',
    'diphthongising',
    'disillusionise',
    'disseise',
    'disseisin',
    'divinise',
    'dogmatise',
    'dogmatised',
    'dogmatises',
    'dogmatising',
    'dolours',
    'doura',
    'dracaena',
    'dracaenas',
    'dyspnoea',
    'dyspnoeas',
    'ebonise',
    'ebonised',
    'ebonises',
    'ebonising',
    'economisation',
    'editorialisation',
    'editorialiser',
    'effeminise',
    'effeminised',
    'effeminises',
    'effeminising',
    'egotise',
    'elaeoptene',
    'electrolyse',
    'electrolysed',
    'electrolysing',
    'elegise',
    'elegised',
    'elegises',
    'elegising',
    'emblematise',
    'encarnalise',
    'encyclopaedically',
    'encyclopaedist',
    'encyclopaedists',
    'endamoeba',
    'ensepulchre',
    'entomologise',
    'epigaeal',
    'epigaeous',
    'epigrammatise',
    'escaladoes',
    'essentialise',
    'eternalise',
    'eternalised',
    'eternalises',
    'eternalising',
    'eternise',
    'eternised',
    'eternises',
    'eternising',
    'etherealise',
    'etherealised',
    'etherealises',
    'etherealising',
    'etherise',
    'etherised',
    'etherises',
    'etherising',
    'ethicise',
    'etymologise',
    'etymologised',
    'etymologises',
    'etymologising',
    'eudaemon',
    'eudaemonia',
    'eudaemonics',
    'eudaemonism',
    'eudaemonisms',
    'eudaemons',
    'euhemerise',
    'eunuchise',
    'euphemise',
    'euphemised',
    'euphemises',
    'euphemising',
    'euphonise',
    'evangelisation',
    'evangeliser',
    'experimentalise',
    'exsiccatae',
    'exteriorise',
    'exteriorised',
    'exteriorises',
    'exteriorising',
    'factorisations',
    'faecula',
    'faeculence',
    'faitour',
    'fanaticise',
    'fantasiser',
    'faradise',
    'favourableness',
    'favourablenesses',
    'favourer',
    'feminisation',
    'fere',
    'fertilisable',
    'feudalisation',
    'feudalise',
    'fibred',
    'flavoury',
    'fluidise',
    'fluidised',
    'focalise',
    'foetiparous',
    'foetor',
    'foetors',
    'formae',
    'formalisations',
    'formularise',
    'formularised',
    'formularises',
    'formularising',
    'fossae',
    'fourb',
    'fractionise',
    'fraena',
    'fraenulum',
    'fraenum',
    'framboesia',
    'framboesias',
    'freity',
    'frise',
    'frisette',
    'frivolled',
    'frivolling',
    'fueller',
    'fulgour',
    'galvaniser',
    'gauffre',
    'gelatinise',
    'gelatinised',
    'gelatinises',
    'gelatinising',
    'genealogise',
    'generalisable',
    'geologise',
    'geometrise',
    'ghettoisation',
    'glamoriser',
    'glebae',
    'globigerinae',
    'glutaei',
    'glutaeus',
    'gluttonise',
    'gluttonised',
    'gluttonises',
    'gluttonising',
    'goey',
    'gourmandise',
    'gourmandism',
    'grangerise',
    'graphitise',
    'gre',
    'greenuk',
    'grovellingly',
    'gutturalise',
    'gynaecic',
    'gynaecocracy',
    'gynaecoid',
    'gynaecomastia',
    'gyrostabiliser',
    'gyrostabilisers',
    'haemachrome',
    'haemagglutinate',
    'haemal',
    'haemangioma',
    'haemangiomas',
    'haematic',
    'haematin',
    'haematinic',
    'haematites',
    'haematoblast',
    'haematocele',
    'haematocryal',
    'haematogenesis',
    'haematogenous',
    'haematoid',
    'haematoma',
    'haematomas',
    'haematomata',
    'haematopoiesis',
    'haematosis',
    'haematothermal',
    'haematoxylin',
    'haematozoon',
    'haematuria',
    'haematurias',
    'haemic',
    'haemin',
    'haemocyte',
    'haemodialyses',
    'haemodialysis',
    'haemoid',
    'haemolysin',
    'haemolysis',
    'haemophilic',
    'haemorrhoidal',
    'haemorrhoidectomy',
    'haemostasis',
    'haemostatic',
    'haeredes',
    'harbourage',
    'harbourages',
    'harbourer',
    'hatchelled',
    'hatchelling',
    'heathenise',
    'hectolitre',
    'hectolitres',
    'hetaerism',
    'heteroecious',
    'hierarchise',
    'homogeniser',
    'homologise',
    'homologised',
    'homologises',
    'homologising',
    'hybridiser',
    'hydrocoele',
    'hydrogenise',
    'hydrolysate',
    'hydrolysates',
    'hydrolysation',
    'hypaesthesia',
    'hypaethral',
    'hyperaemia',
    'hyperaemias',
    'hyperaesthesia',
    'hyperbolise',
    'hyperbolised',
    'hyperbolises',
    'hyperbolising',
    'hyperglycaemic',
    'hypersensitise',
    'hypnotisable',
    'hypnotisation',
    'hypnotiser',
    'hypnotisers',
    'hypocentre',
    'hypogaeal',
    'hypogaeous',
    'hypogaeum',
    'hyposensitise',
    'hypostasise',
    'hypostasises',
    'hypostatise',
    'hypostatised',
    'hypostatises',
    'hypostatising',
    'hypothesiser',
    'hysterectomise',
    'idealiser',
    'idolatrise',
    'idoliser',
    'illegalise',
    'illegalised',
    'illegalises',
    'illegalising',
    'immaterialise',
    'immaterialised',
    'immaterialises',
    'immaterialising',
    'impanelment',
    'impersonalise',
    'imprescriptible',
    'incentivisation',
    'incentivise',
    'incognisant',
    'increate',
    'indigenae',
    'indraught',
    'initialisations',
    'insolubilise',
    'intellectualisation',
    'interiorise',
    'interiorised',
    'interiorises',
    'interiorising',
    'internationalisations',
    'ionisable',
    'ipomoea',
    'iridise',
    'irrationalise',
    'isochronise',
    'isomerise',
    'itemiser',
    'jargonise',
    'journalise',
    'juvenilise',
    'kaed',
    'keratinise',
    'kinaesthesia',
    'kinaesthesias',
    'kinaesthetic',
    'kyanise',
    'labeller',
    'labialise',
    'labialised',
    'labialises',
    'labialising',
    'labiatae',
    'laevigate',
    'laevogyrate',
    'laevorotation',
    'laevorotatory',
    'laevulose',
    'laevuloses',
    'laicise',
    'laicised',
    'laicises',
    'laicising',
    'lapelled',
    'lateralisation',
    'leporidae',
    'leukorrhoea',
    'libellant',
    'libellee',
    'libellously',
    'ligulae',
    'linearised',
    'lioniser',
    'lissomness',
    'lissomnesses',
    'literalise',
    'literalised',
    'literalises',
    'literalising',
    'localisations',
    'lodgement',
    'lodgements',
    'lodiculae',
    'loesses',
    'logicise',
    'logorrhoea',
    'logorrhoeas',
    'longaevous',
    'loury',
    'lunulae',
    'lustreware',
    'lustrewares',
    'lustring',
    'lyophilise',
    'lyophilised',
    'lyophilises',
    'lyophilising',
    'maculae',
    'magnetiser',
    'maigre',
    'majusculae',
    'malodour',
    'malodourousness',
    'malodours',
    'margaritae',
    'martyrisation',
    'martyrise',
    'martyrised',
    'martyrises',
    'martyrising',
    'marvellousness',
    'matronise',
    'maugre',
    'maximiser',
    'mechanisable',
    'mechaniser',
    'mediaevalism',
    'mediaevally',
    'mediatise',
    'melodise',
    'melodised',
    'melodises',
    'melodising',
    'melodramatise',
    'memoriser',
    'memorisers',
    'mercerisation',
    'mercurialise',
    'mesmerisation',
    'mesogloea',
    'metacentre',
    'metallise',
    'metallised',
    'metathesise',
    'methaemoglobin',
    'methodise',
    'metopae',
    'micellae',
    'micromillimetre',
    'microminiaturisation',
    'microminiaturised',
    'micropalaeontologies',
    'micropalaeontology',
    'mineralisation',
    'mineralise',
    'minimiser',
    'misadvise',
    'misalphabetise',
    'mischaracterise',
    'mise',
    'mitrewort',
    'mitreworts',
    'mobilisable',
    'modernisations',
    'modularise',
    'modularised',
    'modularising',
    'monetisation',
    'monetisations',
    'mongrelise',
    'mongrelised',
    'mongrelises',
    'mongrelising',
    'monometallism',
    'monumentalise',
    'monumentalised',
    'monumentalises',
    'monumentalising',
    'moralisingly',
    'mucosae',
    'multicolour',
    'municipalise',
    'mutualise',
    'myriametre',
    'mythicise',
    'mythopoeic',
    'myxoedema',
    'myxoedemas',
    'nanometre',
    'nanometres',
    'nationaliser',
    'nebulisation',
    'nebulise',
    'nebuliser',
    'neologise',
    'neoterise',
    'neurocoele',
    'nitrogenise',
    'nomadise',
    'nonfulfilment',
    'nonionising',
    'normalisable',
    'normalisations',
    'normaliser',
    'normalisers',
    'nymphaeum',
    'obelise',
    'objectivise',
    'ochreous',
    'ochres',
    'ochrey',
    'oedematous',
    'oenologist',
    'oenologists',
    'oesophagitis',
    'oestradiol',
    'oestrin',
    'oestriol',
    'oestrogenic',
    'oestrogens',
    'oestrone',
    'oestrones',
    'oestrum',
    'offenceless',
    'ombre',
    'optimisers',
    'organisable',
    'orientalise',
    'orientalised',
    'orientalises',
    'orientalising',
    'orthographise',
    'orthopaedically',
    'overanalyse',
    'overdramatise',
    'overdramatised',
    'overdramatises',
    'overdramatising',
    'overindustrialise',
    'oxidisable',
    'ozonise',
    'paederastic',
    'paedogenesis',
    'paedological',
    'paedologist',
    'paedology',
    'paedophilic',
    'paganise',
    'palaeethnology',
    'palaeobiologies',
    'palaeobiologist',
    'palaeobiology',
    'palaeobotanies',
    'palaeobotany',
    'palaeoclimatologies',
    'palaeoclimatology',
    'palaeoecology',
    'palaeogeographies',
    'palaeogeography',
    'palaeographic',
    'palaeographical',
    'palaeolith',
    'palaeoliths',
    'palaeontography',
    'palaeontologic',
    'palaeontological',
    'palaeopsychology',
    'palaeozoologies',
    'palaeozoology',
    'palaestra',
    'palaestrae',
    'pandoura',
    'panegyrise',
    'papulae',
    'parabolise',
    'paraesthesia',
    'paraesthesias',
    'parallelise',
    'parallelised',
    'parallelises',
    'parallelising',
    'parametrisation',
    'parametrise',
    'parametrised',
    'parametrises',
    'paraselenae',
    'parasitise',
    'parlourmaid',
    'particoloured',
    'pastoralise',
    'patronisation',
    'pectise',
    'peculiarise',
    'pelletise',
    'pennae',
    'peptise',
    'peptised',
    'peptises',
    'peptising',
    'peptonise',
    'pericopae',
    'periodisation',
    'peroxidise',
    'personalisation',
    'phaenology',
    'philanthropise',
    'phlebotomise',
    'phlebotomised',
    'phlebotomises',
    'phlebotomising',
    'phlyctaena',
    'phosphatise',
    'photosensitise',
    'photosensitised',
    'photosensitises',
    'photosensitising',
    'picturise',
    'pilgrimise',
    'pinnulae',
    'piscinae',
    'plagae',
    'plasmolyses',
    'plasticiser',
    'plasticisers',
    'platinise',
    'platitudinise',
    'ploughable',
    'ploughboy',
    'ploughboys',
    'plougher',
    'ploughers',
    'plumulae',
    'poe',
    'poeticise',
    'poetise',
    'poetised',
    'poetises',
    'poetising',
    'polarisability',
    'polarisable',
    'polarisations',
    'polariser',
    'polemicise',
    'polemicised',
    'polemicises',
    'polemicising',
    'pollinise',
    'polycythaemia',
    'polycythaemias',
    'poplitaeal',
    'popularisations',
    'populariser',
    'posturise',
    'pourer',
    'practiser',
    'praedial',
    'praefectorial',
    'praelect',
    'praemaxilla',
    'praemunire',
    'praepositor',
    'preacid',
    'preaemptor',
    'preaexistent',
    'preambulatory',
    'precancellation',
    'precivilisation',
    'preconise',
    'prepend',
    'preprogramme',
    'prese',
    'previousness',
    'previousnesses',
    'previse',
    'proemial',
    'prologise',
    'prologised',
    'prologises',
    'prologising',
    'prologuise',
    'propraetor',
    'proselytisation',
    'provincialisation',
    'psychologise',
    'pyaemia',
    'pygmaean',
    'pyorrhoeal',
    'pyrolyse',
    'quaestionary',
    'quantisation',
    'quantise',
    'quantised',
    'racialisation',
    'racialise',
    'rationaliser',
    'ratitae',
    'raveller',
    'reaentrance',
    'reauthorisation',
    'rebaptise',
    'recognisances',
    'recognisers',
    'reconnoitrer',
    'recrystallisation',
    'relativise',
    'relativised',
    'relativises',
    'relativising',
    'rematerialised',
    'remilitarise',
    'remilitarised',
    'remilitarises',
    'remilitarising',
    'remonetise',
    'renationalised',
    'rencontre',
    'renes',
    'renormalisation',
    'republicanise',
    'resh',
    'reshoes',
    'resynchronisation',
    'resynchronise',
    'resynchronised',
    'resynchronises',
    'resynchronising',
    'resynthesise',
    'revolutioniser',
    'rigourism',
    'rigourist',
    'ritualise',
    'ritualises',
    'ritualising',
    'romanise',
    'ruggedise',
    'ruralise',
    'saeta',
    'sakis',
    'salinisation',
    'salinise',
    'saltires',
    'sandalled',
    'sanitiser',
    'sanitisers',
    'sapour',
    'satirisation',
    'savourer',
    'savourily',
    'savourless',
    'scandalisation',
    'scandalisations',
    'scandaliser',
    'sceptred',
    'schematisation',
    'schematisations',
    'scrutinisation',
    'scrutiniser',
    'seborrhoeic',
    'sectarianise',
    'sectionalise',
    'seculariser',
    'seisable',
    'seiser',
    'seisers',
    'seisin',
    'seisings',
    'semicivilised',
    'sensitisers',
    'sensualise',
    'sensualised',
    'sensualises',
    'sensualising',
    'sepalled',
    'sermoniser',
    'sermonisers',
    'shoer',
    'shoveller',
    'shovellers',
    'siliquae',
    'singularisation',
    'singularise',
    'singularised',
    'singularises',
    'singularising',
    'sizeably',
    'socialiser',
    'solarise',
    'solmisation',
    'solmisations',
    'solubilise',
    'sourdine',
    'sourdines',
    'sovietise',
    'sovietised',
    'sovietises',
    'sovietising',
    'spelaean',
    'spinulae',
    'spiritualise',
    'spiritualised',
    'spiritualises',
    'spiritualising',
    'spirochaetosis',
    'squamae',
    'standardisations',
    'stelae',
    'stentour',
    'stentours',
    'stilboestrol',
    'stilboestrols',
    'stipulae',
    'stomodaeum',
    'stour',
    'stree',
    'strobilae',
    'stylisation',
    'subdure',
    'subminiaturise',
    'subspecialise',
    'subspeciality',
    'substantialise',
    'subtilise',
    'subtilised',
    'subtilises',
    'subtilising',
    'suburbanisation',
    'suburbanise',
    'suburbanised',
    'suburbanises',
    'suburbanising',
    'succourless',
    'sulfatise',
    'sulphurise',
    'summarisation',
    'summarisations',
    'summariser',
    'summarisers',
    'superfoetation',
    'superfoetations',
    'surprisal',
    'syllabise',
    'syllabised',
    'syllabises',
    'syllabising',
    'syllogise',
    'syllogised',
    'syllogises',
    'syllogising',
    'symmetrisation',
    'symmetrise',
    'symmetrised',
    'symmetrises',
    'symmetrising',
    'symphonise',
    'synaereses',
    'synaeresis',
    'synaesthesia',
    'synaesthesias',
    'synchroniser',
    'syncretise',
    'syncretised',
    'syncretises',
    'syncretising',
    'synoecious',
    'synoecology',
    'synonymise',
    'synopsise',
    'systemise',
    'systemised',
    'systemises',
    'systemising',
    'tabouret',
    'tabourets',
    'taels',
    'taenia',
    'taeniacide',
    'taeniafuge',
    'taenias',
    'taeniasis',
    'tamboura',
    'tautologise',
    'telaesthesia',
    'tellurise',
    'temporisation',
    'territorialise',
    'terrorisation',
    'terrorisations',
    'terroriser',
    'tetanise',
    'theatricalise',
    'theologise',
    'theoriser',
    'thermae',
    'thermaesthesia',
    'thermosyphon',
    'threap',
    'titre',
    'titres',
    'totaliser',
    'totalisers',
    'totalising',
    'toxaemic',
    'trammeller',
    'tranquilisation',
    'transcendentalise',
    'tref',
    'trichinise',
    'trichloroethylene',
    'tricoloured',
    'trioecious',
    'trivialisations',
    'tropaeolin',
    'tropicalise',
    'turdinae',
    'tyranniser',
    'unacclimatised',
    'unalphabetised',
    'uncancelled',
    'uncapitalised',
    'uncrystallised',
    'underemphasise',
    'unhonoured',
    'uniformise',
    'unioniser',
    'universalisation',
    'unmechanised',
    'unmemorised',
    'unnaturalised',
    'unneighbourly',
    'unpressurised',
    'unpublicised',
    'unrealisable',
    'unrecognisably',
    'unsavourily',
    'unsavouriness',
    'unsavourinesses',
    'unspecialised',
    'unsterilised',
    'unsubsidised',
    'unutilised',
    'uraemias',
    'utiliser',
    'valorisation',
    'valorise',
    'valvulae',
    'vapourific',
    'vapourimeter',
    'vapouring',
    'vapourings',
    'vapourish',
    'vapourously',
    'vapourware',
    'vasectomise',
    'vasectomised',
    'vasectomising',
    'vassalise',
    'vectorisation',
    'vectorised',
    'velarise',
    'ventre',
    'ventres',
    'ventriloquise',
    'venulae',
    'verbaliser',
    'verey',
    'vernacularise',
    'vernalise',
    'versicolour',
    'vetoer',
    'victimiser',
    'victuallage',
    'victualler',
    'victuallers',
    'vigourless',
    'vire',
    'visard',
    'vitaliser',
    'vitriolise',
    'vocaliser',
    'volatilisation',
    'vowelise',
    'vowelised',
    'vowelises',
    'vowelising',
    'vulcanisable',
    'vulcaniser',
    'watercolourist',
    'watercolourists',
    'winterisation',
    'wisen',
    'zaffre',
    'zoogloea',
  ];

  word: string = '';
  resultsMatrix: ValidationResult[][] = [];

  textEntry: string = '';
  // textEntryArr: string[] = this.textEntry.split(/[ ]+/);

  maxAttempts = 4;

  constructor() {
    var filteredWords = this.words.filter(
      (w) => w.length >= 4 && w.length <= 6
    );

    this.word = filteredWords[this.getRandomInt(filteredWords.length)];

    this.maxAttempts = this.word.length + 1;
  }

  addChar(char: string) {
    if (this.textEntry.length < this.word.length) {
      this.textEntry += char;
    }
  }

  removeChar() {
    if (this.textEntry.length > 0) {
      this.textEntry = this.textEntry.slice(0, -1);
    }
  }

  validateEntry(entry: string) {
    let wordChars = [];
    let result: ValidationResult[] = [];

    for (var i = 0; i < this.word.length; i++) {
      // Setup word chars
      wordChars.push({ char: this.word[i], isUsed: false });

      // Setup result arr
      result.push(new ValidationResult(entry[i]));

      // Check chars for correct position
      if (wordChars[i].char === result[i].char) {
        result[i].isInString = true;
        result[i].isInCorrectPosition = true;

        wordChars[i].isUsed = true;
      }
    }

    // Check out of position
    for (var i = 0; i < wordChars.length; i++) {
      if (wordChars[i].isUsed === false) {
        for (var j = 0; j < result.length; j++) {
          if (
            result[j].isInString === false &&
            result[j].char === wordChars[i].char
          ) {
            result[j].isInString = true;
            wordChars[i].isUsed = true;
            break;
          }
        }
      }
    }

    return result;
  }

  getRandomInt(max: number) {
    return Math.floor(Math.random() * max);
  }

  addToResultsMatrix(entry: string) {
    if (entry.length != this.word.length) {
      return;
    }

    if (this.resultsMatrix.length >= this.maxAttempts) {
      return;
    }

    var result = this.validateEntry(entry);

    this.resultsMatrix.push(result);
    this.textEntry = '';
    // this.textEntryArr = [];
  }

  share() {
    var text = 'https://danielwinfield.uk/wordle-clone/\n';
    this.resultsMatrix.forEach((row) => {
      row.forEach((col) => {
        if (col.isInCorrectPosition) {
          text += '🟩';
        } else if (col.isInString) {
          text += '🟨';
        } else {
          text += '⬛️';
        }
      });
      text += '\n';
    });

    navigator.share({
      title: 'Dans Wordle',
      text: text,
    });
  }

  // onKeypressEvent(event: any) {
  //   // debugger;
  //   // event.target.value;

  //   this.textEntry = event.target.value;
  //   // this.textEntryArr = this.textEntry.split('');
  // }
}

export class ValidationResult {
  public char: string;
  public isInString: boolean;
  public isInCorrectPosition: boolean;

  constructor(char: string) {
    this.char = char;
    this.isInCorrectPosition = false;
    this.isInString = false;
  }
}
